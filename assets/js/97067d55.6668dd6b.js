(self.webpackChunkgridjs_website=self.webpackChunkgridjs_website||[]).push([[9991],{8008:function(e,n,t){"use strict";t.d(n,{$:function(){return d}});var i=t(93552),o=t(41904),s={search:{placeholder:"\ud83d\udd0d Busqueda..."},sort:{sortAsc:"Ordenar la columna en orden ascendente",sortDesc:"Ordenar la columna en orden descendente"},pagination:{previous:"Anterior",next:"Siguiente",navigate:function(e,n){return"P\xe1gina "+e+" de "+n},page:function(e){return"P\xe1gina "+e},showing:"Mostrando los resultados",of:"sobre",to:"a",results:""},loading:"Cargando...",noRecordsFound:"Nig\xfan resultado encontrado",error:"Se produjo un error al recuperar datos"},r={search:{placeholder:"\ud83d\udd0d Recherche..."},sort:{sortAsc:"Trier la colonne dans l'ordre croissant",sortDesc:"Trier la colonne dans l'ordre d\xe9croissant"},pagination:{previous:"Pr\xe9c\xe9dent",next:"Suivant",navigate:function(e,n){return"Page "+e+" de "+n},page:function(e){return"Page "+e},showing:"Affichage des r\xe9sultats",of:"sur",to:"\xe0",results:""},loading:"Chargement...",noRecordsFound:"Aucun r\xe9sultat trouv\xe9",error:"Une erreur est survenue lors de la r\xe9cup\xe9ration des donn\xe9es"},a=t(16589),c=t(67294),l=t(85384),d=function(e){function n(){return e.apply(this,arguments)||this}return(0,i.Z)(n,e),n.prototype.render=function(){return c.createElement(a.Z,{children:this.props.children,transformCode:function(e){return"\nfunction () {\n  "+e+"\n \n  const wrapperRef = useRef(null);\n   \n  useEffect(() => {\n    if (typeof (grid) == 'object' && wrapperRef && wrapperRef.current && wrapperRef.current.childNodes.length === 0) {\n      grid.render(wrapperRef.current);\n    }\n  });\n  \n  return (\n    <div ref={wrapperRef} />\n  );\n}\n"},live:!0,scope:Object.assign({Grid:o.rj,html:o.dy,h:o.h,gCreateRef:o.Vf,gComponent:o.wA,PluginPosition:o.t8,BaseComponent:o.H6,CodeBlock:a.Z,useEffect:c.useEffect,useRef:c.useRef,faker:l,esES:s,frFR:r},this.props.scope)})},n}(c.Component)},61718:function(e,n,t){"use strict";t.d(n,{uX:function(){return c}});var i=t(41904);function o(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,s(e,n)}function s(e,n){return(s=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var r=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.getInitialState=function(){return{rowIds:[]}},t.handle=function(e,n){"CHECK"===e&&this.check(n.ROW_ID),"UNCHECK"===e&&this.uncheck(n.ROW_ID)},t.check=function(e){this.state.rowIds.indexOf(e)>-1||this.setState({rowIds:[e].concat(this.state.rowIds)})},t.uncheck=function(e){var n=this.state.rowIds.indexOf(e);if(-1!==n){var t=[].concat(this.state.rowIds);t.splice(n,1),this.setState({rowIds:t})}},n}(i.uc),a=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.check=function(e){this.dispatch("CHECK",{ROW_ID:e})},t.uncheck=function(e){this.dispatch("UNCHECK",{ROW_ID:e})},n}(i.c8),c=function(e){function n(n,t){var i;if((i=e.call(this,n,t)||this).actions=void 0,i.store=void 0,i.storeUpdatedFn=void 0,i.isDataCell=function(e){return void 0!==e.row},i.getParentTR=function(){return i.base&&i.base.parentElement&&i.base.parentElement.parentElement},i.state={isChecked:!1},i.isDataCell(n)){if(n.store)i.store=n.store;else{var o=new r(i.config.dispatcher);i.store=o,n.plugin.props.store=o}i.actions=new a(i.config.dispatcher),i.storeUpdatedFn=i.storeUpdated.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i.store.on("updated",i.storeUpdatedFn),n.cell.data&&i.check()}return i}o(n,e);var t=n.prototype;return t.componentWillUnmount=function(){this.store.off("updated",this.storeUpdatedFn)},t.componentDidMount=function(){this.store&&this.storeUpdated(this.store.state)},t.storeUpdated=function(e){var n=this.getParentTR();if(n){var t=e.rowIds.indexOf(this.props.id(this.props.row))>-1;this.setState({isChecked:t}),t?n.classList.add(this.props.selectedClassName):n.classList.remove(this.props.selectedClassName)}},t.check=function(){this.actions.check(this.props.id(this.props.row)),this.props.cell.update(!0)},t.uncheck=function(){this.actions.uncheck(this.props.id(this.props.row)),this.props.cell.update(!1)},t.toggle=function(){this.state.isChecked?this.uncheck():this.check()},t.render=function(){var e=this;return this.isDataCell(this.props)?(0,i.h)("input",{type:"checkbox",checked:this.state.isChecked,onChange:function(){return e.toggle()},className:this.props.checkboxClassName}):null},n}(i.un);c.defaultProps={selectedClassName:(0,i.ok)("tr","selected"),checkboxClassName:(0,i.ok)("checkbox")}},42482:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return l},metadata:function(){return d},toc:function(){return p},default:function(){return h}});var i=t(22122),o=t(19756),s=(t(67294),t(3905)),r=t(8008),a=t(61718),c=["components"],l={title:"Row selection",keywords:["javascript","table","javascript table","gridjs","grid js","checkbox","cell checkbox","row selection"]},d={unversionedId:"plugins/selection/row-selection",id:"plugins/selection/row-selection",isDocsHomePage:!1,title:"Row selection",description:"Install the gridjs-selection plugin if you haven't already.",source:"@site/docs/plugins/selection/row-selection.md",sourceDirName:"plugins/selection",slug:"/plugins/selection/row-selection",permalink:"/docs/plugins/selection/row-selection",editUrl:"https://github.com/grid-js/website/edit/master/docs/plugins/selection/row-selection.md",version:"current",lastUpdatedBy:"Afshin Mehrabani",lastUpdatedAt:1623064959,formattedLastUpdatedAt:"6/7/2021",frontMatter:{title:"Row selection",keywords:["javascript","table","javascript table","gridjs","grid js","checkbox","cell checkbox","row selection"]},sidebar:"sidebar",previous:{title:"Selection Plugin",permalink:"/docs/plugins/selection/index"},next:{title:"Selection events",permalink:"/docs/plugins/selection/selection-events"}},p=[{value:"Example",id:"example",children:[]},{value:"Selected rows",id:"selected-rows",children:[]},{value:"Row selection extension",id:"row-selection-extension",children:[]}],u={toc:p};function h(e){var n=e.components,t=(0,o.Z)(e,c);return(0,s.kt)("wrapper",(0,i.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Install the ",(0,s.kt)("inlineCode",{parentName:"p"},"gridjs-selection")," plugin if you haven't already.\nFollow the ",(0,s.kt)("a",{parentName:"p",href:"/docs/plugins/selection/index"},"installation manual"),"."))),(0,s.kt)("h2",{id:"example"},"Example"),(0,s.kt)("p",null,"Add a new column to your table definition and install the plugin. You need to define an ",(0,s.kt)("inlineCode",{parentName:"p"},"id")," function for your selection\nplugin. The ",(0,s.kt)("inlineCode",{parentName:"p"},"id")," function must return a unique ",(0,s.kt)("inlineCode",{parentName:"p"},"string")," for each row and is called to determine the identifier for each row."),(0,s.kt)(r.$,{children:"\nconst grid = new Grid({\n  columns: [\n      {\n        id: 'myCheckbox',\n        name: 'Select',\n        plugin: {\n          // install the RowSelection plugin\n          component: RowSelection,\n          // RowSelection config\n          props: {\n            // use the \"email\" column as the row identifier\n            id: (row) => row.cell(2).data\n          }\n        }\n      },\n      { \n        name: 'Name',\n        formatter: (cell) => `Name: ${cell}`\n      },\n      'Email',\n  ],\n  sort: true,\n  search: true,\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n  ])\n});\n",scope:{RowSelection:a.uX},mdxType:"LiveExample"}),(0,s.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"In the example above, the 3rd cell (which is ",(0,s.kt)("inlineCode",{parentName:"p"},"row.cell(2).data"),') has been selected as the row identifier which is\nthe "Email" field. Note that the first cell is the checkbox column.'))),(0,s.kt)("h2",{id:"selected-rows"},"Selected rows"),(0,s.kt)("p",null,"The selection plugin uses a Redux architecture and that means each selection instance has its own unique Store which keeps\nthe list of selected rows."),(0,s.kt)(r.$,{children:"\nconst grid = new Grid({\n  columns: [\n      {\n        id: 'selectRow',\n        name: 'Select',\n        // select all rows by default!\n        data: () => true, \n        plugin: {\n          component: RowSelection,\n          props: {\n            id: (row) => row.cell(2).data\n          }\n        }\n      },\n      { \n        name: 'Name',\n        formatter: (cell) => `Name: ${cell}`\n      },\n      'Email',\n  ],\n  sort: true,\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n  ])\n});\n \ngrid.on('ready', () => {\n  // find the plugin with the give plugin ID\n  const checkboxPlugin = grid.config.plugin.get('selectRow');\n  // read the selected rows from the plugin's store\n  console.log('selected rows:', checkboxPlugin.props.store.state);\n})\n",scope:{RowSelection:a.uX},mdxType:"LiveExample"}),(0,s.kt)("h2",{id:"row-selection-extension"},"Row selection extension"),(0,s.kt)("p",null,"Grid.js enables you to write custom plugins and extend the core functionality. In this example, we are developing a custom\nplugin which listens to the Selection plugin events and populates a list of selected rows."),(0,s.kt)(r.$,{children:"\nclass SelectionsList extends BaseComponent {\n  constructor(props, context) {\n    super(props, context);\n    \n    this.state = {\n      selectedRows: []\n    };\n  }\n  \n  componentDidMount() {\n     const grid = this.config.instance;\n     \n     grid.on('ready', () => {\n       // find the plugin with the give plugin ID\n       const checkboxPlugin = this.config.plugin.get('selectRow');\n       \n       // subscribe to the store events\n       checkboxPlugin.props.store.on('updated', (state) => {\n         this.setState({\n           selectedRows: state.rowIds\n         });\n       });\n    });\n  }\n  \n  render() {\n    if (!this.state.selectedRows.length) {\n      return h('b', {}, 'Select some rows...');\n    }\n    \n    return h(\n      'ul', \n      {}, \n      this.state.selectedRows.map((rowId) => h('li', {}, rowId))\n    );\n  }\n}\n  \nconst grid = new Grid({\n  columns: [\n      {\n        id: 'selectRow',\n        name: 'Select',\n        plugin: {\n          component: RowSelection,\n          props: {\n            id: (row) => row.cell(2).data\n          }\n        }\n      },\n      { \n        name: 'Name',\n        formatter: (cell) => `Name: ${cell}`\n      },\n      'Email',\n  ],\n  sort: true,\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n  ])\n});\n \ngrid.plugin.add({\n  id: 'selectionsList',\n  component: SelectionsList,\n  position: PluginPosition.Footer,\n});\n",scope:{RowSelection:a.uX},mdxType:"LiveExample"}),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Follow the ",(0,s.kt)("a",{parentName:"p",href:"/docs/plugins/advanced-plugins"},"Advanced Plugin")," article to learn more about writing Grid.js plugins!"))))}h.isMDXComponent=!0}}]);