(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{157:function(n,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return s})),t.d(e,"metadata",(function(){return d})),t.d(e,"toc",(function(){return l})),t.d(e,"default",(function(){return c}));var a=t(3),o=t(8),r=(t(0),t(174)),i=t(175),s={id:"advanced-plugins",title:"Advanced Plugins"},d={unversionedId:"plugin/advanced-plugins",id:"plugin/advanced-plugins",isDocsHomePage:!1,title:"Advanced Plugins",description:"Now that we know how to write a basic plugin, let's take a look at some complex examples.",source:"@site/docs/plugin/advanced-plugins.md",sourceDirName:"plugin",slug:"/plugin/advanced-plugins",permalink:"/docs/plugin/advanced-plugins",editUrl:"https://github.com/grid-js/website/edit/master/docs/plugin/advanced-plugins.md",version:"current",lastUpdatedBy:"Afshin Mehrabani",lastUpdatedAt:1604780355,formattedLastUpdatedAt:"11/7/2020",frontMatter:{id:"advanced-plugins",title:"Advanced Plugins"},sidebar:"sidebar",previous:{title:"Writing a Plugin",permalink:"/docs/plugin/writing-plugin"},next:{title:"React",permalink:"/docs/integrations/react"}},l=[{value:"Using the pipeline",id:"using-the-pipeline",children:[]},{value:"Using the translation",id:"using-the-translation",children:[]}],u={toc:l};function c(n){var e=n.components,t=Object(o.a)(n,["components"]);return Object(r.b)("wrapper",Object(a.a)({},u,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Now that we know how to write a basic plugin, let's take a look at some complex examples."),Object(r.b)("h2",{id:"using-the-pipeline"},"Using the pipeline"),Object(r.b)("p",null,"Grid.js has an internal pipeline which is the brain of Grid.js and takes care of processing, filter and refining the data.\nYou can always get access to the current pipeline by using ",Object(r.b)("inlineCode",{parentName:"p"},"this.config.pipeline")," in your plugin component (make sure you have extended ",Object(r.b)("inlineCode",{parentName:"p"},"BaseComponent"),")."),Object(r.b)("p",null,"In this example, we have a table of Name (string) and Salary (double) and our custom plugin is in charge of summing salaries\nand displaying the total in the footer."),Object(r.b)(i.a,{children:"\nclass TotalSalaryPlugin extends BaseComponent {\n  constructor(...props) {\n    super(...props);\n    \n    this.state = {\n      total: 0\n    };\n  }\n  \n  setTotal() {\n    this.config.pipeline.process().then(data => {\n      this.setState({\n        total: data.toArray().reduce((prev, row) => prev + row[1], 0)\n      });\n    });\n  }\n  \n  componentDidMount() {\n    // initial setState\n    this.setTotal();\n    this.config.pipeline.on('updated', this.setTotal.bind(this));\n  }\n  \n  render() {\n    return h('b', {}, `Total: $${this.state.total.toLocaleString()}`);\n  }\n}\n  \nconst grid = new Grid({\n  search: true,\n  sort: true,\n  columns: ['Name', 'Salary'],\n  data: [\n    ['John', Math.round(Math.random() * 100000)],\n    ['Mark', Math.round(Math.random() * 100000)],\n    ['Josh', Math.round(Math.random() * 100000)],\n    ['Sara', Math.round(Math.random() * 100000)],\n    ['Maria', Math.round(Math.random() * 100000)],\n  ]\n});\n  \ngrid.plugin.add({\n  id: 'salaryplugin',\n  component: TotalSalaryPlugin,\n  position: PluginPosition.Footer,\n});\n",mdxType:"LiveExample"}),Object(r.b)("h2",{id:"using-the-translation"},"Using the translation"),Object(r.b)("p",null,"Likewise, you can get access to the Translator object and localize strings in your custom plugin. ",Object(r.b)("inlineCode",{parentName:"p"},"_")," is a method of ",Object(r.b)("inlineCode",{parentName:"p"},"BaseComponent"),"\nand since you've extended ",Object(r.b)("inlineCode",{parentName:"p"},"BaseComponent"),", you will have access to ",Object(r.b)("inlineCode",{parentName:"p"},"this._")," throughout your custom plugin:"),Object(r.b)(i.a,{children:"\nclass HelloPlugin extends BaseComponent {\n  render() {\n    return h('b', {}, this._('hello'));\n  }\n}\n  \nconst grid = new Grid({\n  columns: ['Name', 'Salary'],\n  data: [\n    ['John', Math.round(Math.random() * 100000)],\n    ['Mark', Math.round(Math.random() * 100000)],\n    ['Josh', Math.round(Math.random() * 100000)],\n  ],\n  language: {\n    'hello': 'bonjour!!'\n  }\n});\n  \ngrid.plugin.add({\n  id: 'bonjour',\n  component: HelloPlugin,\n  position: PluginPosition.Header,\n});\n",mdxType:"LiveExample"}))}c.isMDXComponent=!0},175:function(n,e,t){"use strict";t.d(e,"a",(function(){return u}));var a=t(177),o={search:{placeholder:"\ud83d\udd0d Busqueda..."},sort:{sortAsc:"Ordenar la columna en orden ascendente",sortDesc:"Ordenar la columna en orden descendente"},pagination:{previous:"Anterior",next:"Siguiente",navigate:function(n,e){return"P\xe1gina "+n+" de "+e},page:function(n){return"P\xe1gina "+n},showing:"Mostrando los resultados",of:"sobre",to:"a",results:""},loading:"Cargando...",noRecordsFound:"Nig\xfan resultado encontrado",error:"Se produjo un error al recuperar datos"},r={search:{placeholder:"\ud83d\udd0d Recherche..."},sort:{sortAsc:"Trier la colonne dans l'ordre croissant",sortDesc:"Trier la colonne dans l'ordre d\xe9croissant"},pagination:{previous:"Pr\xe9c\xe9dent",next:"Suivant",navigate:function(n,e){return"Page "+n+" de "+e},page:function(n){return"Page "+n},showing:"Affichage des r\xe9sultats",of:"sur",to:"\xe0",results:""},loading:"Chargement...",noRecordsFound:"Aucun r\xe9sultat trouv\xe9",error:"Une erreur est survenue lors de la r\xe9cup\xe9ration des donn\xe9es"},i=t(176),s=t(0),d=t.n(s),l=t(179);class u extends s.Component{render(){return d.a.createElement(i.a,{children:this.props.children,transformCode:n=>`\nfunction () {\n  ${n}\n \n  const wrapperRef = useRef(null);\n   \n  useEffect(() => {\n    if (typeof (grid) == 'object' && wrapperRef && wrapperRef.current && wrapperRef.current.childNodes.length === 0) {\n      grid.render(wrapperRef.current);\n    }\n  });\n  \n  return (\n    <div ref={wrapperRef} />\n  );\n}\n`,live:!0,scope:{Grid:a.e,html:a.k,h:a.j,gCreateRef:a.i,gComponent:a.d,PluginPosition:a.g,BaseComponent:a.b,CodeBlock:i.a,useEffect:s.useEffect,useRef:s.useRef,faker:l,esES:o,frFR:r,...this.props.scope}})}}}}]);