/*! For license information please see 82553c5c.72d539d5.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{124:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return d})),n.d(t,"default",(function(){return u}));var o=n(3),i=n(8),s=(n(0),n(174)),r=n(175),a=n(208),c={id:"row-selection",title:"Row selection",keywords:["javascript","table","javascript table","gridjs","grid js","checkbox","cell checkbox","row selection"]},l={unversionedId:"examples/row-selection",id:"examples/row-selection",isDocsHomePage:!1,title:"Row selection",description:"Install the gridjs-selection plugin if you haven't already.",source:"@site/docs/examples/row-selection.md",sourceDirName:"examples",slug:"/examples/row-selection",permalink:"/docs/examples/row-selection",editUrl:"https://github.com/grid-js/website/edit/master/docs/examples/row-selection.md",version:"current",lastUpdatedBy:"Afshin Mehrabani",lastUpdatedAt:1604780355,formattedLastUpdatedAt:"11/7/2020",frontMatter:{id:"row-selection",title:"Row selection",keywords:["javascript","table","javascript table","gridjs","grid js","checkbox","cell checkbox","row selection"]},sidebar:"sidebar",previous:{title:"Selection",permalink:"/docs/examples/selection"},next:{title:"Selection events",permalink:"/docs/examples/selection-events"}},d=[{value:"Example",id:"example",children:[]},{value:"Selected rows",id:"selected-rows",children:[]},{value:"Row selection extension",id:"row-selection-extension",children:[]}],p={toc:d};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(s.b)("wrapper",Object(o.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(s.b)("div",{parentName:"div",className:"admonition-heading"},Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",{parentName:"h5",className:"admonition-icon"},Object(s.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(s.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(s.b)("div",{parentName:"div",className:"admonition-content"},Object(s.b)("p",{parentName:"div"},"Install the ",Object(s.b)("inlineCode",{parentName:"p"},"gridjs-selection")," plugin if you haven't already.\nFollow the ",Object(s.b)("a",{parentName:"p",href:"/docs/examples/selection"},"installation manual"),"."))),Object(s.b)("h2",{id:"example"},"Example"),Object(s.b)("p",null,"Add a new column to your table definition and install the plugin. You need to define an ",Object(s.b)("inlineCode",{parentName:"p"},"id")," function for your selection\nplugin. The ",Object(s.b)("inlineCode",{parentName:"p"},"id")," function must return a unique ",Object(s.b)("inlineCode",{parentName:"p"},"string")," for each row and is called to determine the identifier for each row."),Object(s.b)(r.a,{children:"\nconst grid = new Grid({\n  columns: [\n      {\n        id: 'myCheckbox',\n        name: 'Select',\n        plugin: {\n          // install the RowSelection plugin\n          component: RowSelection,\n          // RowSelection config\n          props: {\n            // use the \"email\" column as the row identifier\n            id: (row) => row.cell(2).data\n          }\n        }\n      },\n      { \n        name: 'Name',\n        formatter: (cell) => `Name: ${cell}`\n      },\n      'Email',\n  ],\n  sort: true,\n  search: true,\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n  ])\n});\n",scope:{RowSelection:a.a},mdxType:"LiveExample"}),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",{parentName:"div",className:"admonition-heading"},Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",{parentName:"h5",className:"admonition-icon"},Object(s.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(s.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(s.b)("div",{parentName:"div",className:"admonition-content"},Object(s.b)("p",{parentName:"div"},"In the example above, the 3rd cell (which is ",Object(s.b)("inlineCode",{parentName:"p"},"row.cell(2).data"),') has been selected as the row identifier which is\nthe "Email" field. Note that the first cell is the checkbox column.'))),Object(s.b)("h2",{id:"selected-rows"},"Selected rows"),Object(s.b)("p",null,"The selection plugin uses a Redux architecture and that means each selection instance has its own unique Store which keeps\nthe list of selected rows."),Object(s.b)(r.a,{children:"\nconst grid = new Grid({\n  columns: [\n      {\n        id: 'selectRow',\n        name: 'Select',\n        // select all rows by default!\n        data: () => true, \n        plugin: {\n          component: RowSelection,\n          props: {\n            id: (row) => row.cell(2).data\n          }\n        }\n      },\n      { \n        name: 'Name',\n        formatter: (cell) => `Name: ${cell}`\n      },\n      'Email',\n  ],\n  sort: true,\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n  ])\n});\n \ngrid.on('ready', () => {\n  // find the plugin with the give plugin ID\n  const checkboxPlugin = grid.config.plugin.get('selectRow');\n  // read the selected rows from the plugin's store\n  console.log('selected rows:', checkboxPlugin.props.store.state);\n})\n",scope:{RowSelection:a.a},mdxType:"LiveExample"}),Object(s.b)("h2",{id:"row-selection-extension"},"Row selection extension"),Object(s.b)("p",null,"Grid.js enables you to write custom plugins and extend the core functionality. In this example, we are developing a custom\nplugin which listens to the Selection plugin events and populates a list of selected rows."),Object(s.b)(r.a,{children:"\nclass SelectionsList extends BaseComponent {\n  constructor(props, context) {\n    super(props, context);\n    \n    this.state = {\n      selectedRows: []\n    };\n  }\n  \n  componentDidMount() {\n     const grid = this.config.instance;\n     \n     grid.on('ready', () => {\n       // find the plugin with the give plugin ID\n       const checkboxPlugin = this.config.plugin.get('selectRow');\n       \n       // subscribe to the store events\n       checkboxPlugin.props.store.on('updated', (state) => {\n         this.setState({\n           selectedRows: state.rowIds\n         });\n       });\n    });\n  }\n  \n  render() {\n    if (!this.state.selectedRows.length) {\n      return h('b', {}, 'Select some rows...');\n    }\n    \n    return h(\n      'ul', \n      {}, \n      this.state.selectedRows.map((rowId) => h('li', {}, rowId))\n    );\n  }\n}\n  \nconst grid = new Grid({\n  columns: [\n      {\n        id: 'selectRow',\n        name: 'Select',\n        plugin: {\n          component: RowSelection,\n          props: {\n            id: (row) => row.cell(2).data\n          }\n        }\n      },\n      { \n        name: 'Name',\n        formatter: (cell) => `Name: ${cell}`\n      },\n      'Email',\n  ],\n  sort: true,\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n  ])\n});\n \ngrid.plugin.add({\n  id: 'selectionsList',\n  component: SelectionsList,\n  position: PluginPosition.Footer,\n});\n",scope:{RowSelection:a.a},mdxType:"LiveExample"}),Object(s.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(s.b)("div",{parentName:"div",className:"admonition-heading"},Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",{parentName:"h5",className:"admonition-icon"},Object(s.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(s.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(s.b)("div",{parentName:"div",className:"admonition-content"},Object(s.b)("p",{parentName:"div"},"Follow the ",Object(s.b)("a",{parentName:"p",href:"/docs/plugin/advanced-plugins"},"Advanced Plugin")," article to learn more about writing Grid.js plugins!"))))}u.isMDXComponent=!0},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(177),i={search:{placeholder:"\ud83d\udd0d Busqueda..."},sort:{sortAsc:"Ordenar la columna en orden ascendente",sortDesc:"Ordenar la columna en orden descendente"},pagination:{previous:"Anterior",next:"Siguiente",navigate:function(e,t){return"P\xe1gina "+e+" de "+t},page:function(e){return"P\xe1gina "+e},showing:"Mostrando los resultados",of:"sobre",to:"a",results:""},loading:"Cargando...",noRecordsFound:"Nig\xfan resultado encontrado",error:"Se produjo un error al recuperar datos"},s={search:{placeholder:"\ud83d\udd0d Recherche..."},sort:{sortAsc:"Trier la colonne dans l'ordre croissant",sortDesc:"Trier la colonne dans l'ordre d\xe9croissant"},pagination:{previous:"Pr\xe9c\xe9dent",next:"Suivant",navigate:function(e,t){return"Page "+e+" de "+t},page:function(e){return"Page "+e},showing:"Affichage des r\xe9sultats",of:"sur",to:"\xe0",results:""},loading:"Chargement...",noRecordsFound:"Aucun r\xe9sultat trouv\xe9",error:"Une erreur est survenue lors de la r\xe9cup\xe9ration des donn\xe9es"},r=n(176),a=n(0),c=n.n(a),l=n(179);class d extends a.Component{render(){return c.a.createElement(r.a,{children:this.props.children,transformCode:e=>`\nfunction () {\n  ${e}\n \n  const wrapperRef = useRef(null);\n   \n  useEffect(() => {\n    if (typeof (grid) == 'object' && wrapperRef && wrapperRef.current && wrapperRef.current.childNodes.length === 0) {\n      grid.render(wrapperRef.current);\n    }\n  });\n  \n  return (\n    <div ref={wrapperRef} />\n  );\n}\n`,live:!0,scope:{Grid:o.e,html:o.k,h:o.j,gCreateRef:o.i,gComponent:o.d,PluginPosition:o.g,BaseComponent:o.b,CodeBlock:r.a,useEffect:a.useEffect,useRef:a.useRef,faker:l,esES:i,frFR:s,...this.props.scope}})}}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(177),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],r=0,a=s.length;r<a;r++,i++)o[i]=s[r];return o}var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getInitialState=function(){return{rowIds:[]}},t.prototype.handle=function(e,t){if("CHECK"===e){var n=t.ROW_ID;this.check(n)}"UNCHECK"===e&&(n=t.ROW_ID,this.uncheck(n))},t.prototype.check=function(e){this.state.rowIds.indexOf(e)>-1||this.setState({rowIds:r([e],this.state.rowIds)})},t.prototype.uncheck=function(e){var t=this.state.rowIds.indexOf(e);if(-1!==t){var n=r(this.state.rowIds);n.splice(t,1),this.setState({rowIds:n})}},t}(o.c),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.check=function(e){this.dispatch("CHECK",{ROW_ID:e})},t.prototype.uncheck=function(e){this.dispatch("UNCHECK",{ROW_ID:e})},t}(o.a),l=function(e){function t(t,n){var o=e.call(this,t,n)||this;if(o.isDataCell=function(e){return void 0!==e.row},o.getParentTR=function(){return o.base&&o.base.parentElement&&o.base.parentElement.parentElement},o.state={isChecked:!1},o.isDataCell(t)){if(t.store)o.store=t.store;else{var i=new a(o.config.dispatcher);o.store=i,t.plugin.props.store=i}o.actions=new c(o.config.dispatcher),o.storeUpdatedFn=o.storeUpdated.bind(o),o.store.on("updated",o.storeUpdatedFn),t.cell.data&&o.check()}return o}return s(t,e),t.prototype.componentWillUnmount=function(){this.store.off("updated",this.storeUpdatedFn)},t.prototype.componentDidMount=function(){this.store&&this.storeUpdated(this.store.state)},t.prototype.storeUpdated=function(e){var t=this.getParentTR();if(t){var n=e.rowIds.indexOf(this.props.id(this.props.row))>-1;this.setState({isChecked:n}),n?t.classList.add(this.props.selectedClassName):t.classList.remove(this.props.selectedClassName)}},t.prototype.check=function(){this.actions.check(this.props.id(this.props.row)),this.props.cell.update(!0)},t.prototype.uncheck=function(){this.actions.uncheck(this.props.id(this.props.row)),this.props.cell.update(!1)},t.prototype.toggle=function(){this.state.isChecked?this.uncheck():this.check()},t.prototype.render=function(){var e=this;return this.isDataCell(this.props)?Object(o.j)("input",{type:"checkbox",checked:this.state.isChecked,onChange:function(){return e.toggle()},className:this.props.checkboxClassName}):null},t.defaultProps={selectedClassName:Object(o.h)("tr","selected"),checkboxClassName:Object(o.h)("checkbox")},t}(o.f)}}]);