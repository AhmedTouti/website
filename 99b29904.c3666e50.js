(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{146:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return p})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return d})),t.d(n,"default",(function(){return b}));var a=t(2),r=t(6),o=(t(0),t(179)),c=t(39),i=t.n(c),s=t(180),p={id:"react-cells",title:"React Component in cells",keywords:["javascript","table","javascript table","gridjs","grid js","react","react component"]},l={id:"examples/react-cells",isDocsHomePage:!1,title:"React Component in cells",description:"Grid.js uses Preact to render the elements and that means that you can take advantage of Preact's Virtual DOM and render",source:"@site/docs/examples/react-cells.md",permalink:"/docs/examples/react-cells",editUrl:"https://github.com/grid-js/website/edit/master/docs/examples/react-cells.md",lastUpdatedBy:"Afshin Mehrabani",lastUpdatedAt:1593637169,sidebar:"sidebar",previous:{title:"HTML in header cells",permalink:"/docs/examples/html-header-cells"},next:{title:"Internationalization",permalink:"/docs/examples/i18n"}},d=[],m={rightToc:d};function b(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Grid.js uses Preact to render the elements and that means that you can take advantage of Preact's Virtual DOM and render\ncomplex cells. In this example, we want to render React components in our cells."),Object(o.b)("p",null,"First of all, let's import ",Object(o.b)("inlineCode",{parentName:"p"},"Component")," and ",Object(o.b)("inlineCode",{parentName:"p"},"createRef")," from Grid.js:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'import { \n  Grid,\n  h,\n  createRef as gCreateRef,\n  Component as gComponent \n} from "gridjs";\n')),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("inlineCode",{parentName:"p"},"gComponent")," and ",Object(o.b)("inlineCode",{parentName:"p"},"gCreateRef")," are both coming from Grid.js package.\nI have renamed them in this example to avoid naming conflicts with React. "))),Object(o.b)("p",null,"Next, we can create a component named ",Object(o.b)("inlineCode",{parentName:"p"},"ReactComponent"),", that takes one input (our React component) mounts it to our table:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"class ReactComponent extends gComponent {\n  ref = gCreateRef(null);\n  \n  componentDidMount() {\n    ReactDOM.render(this.props.element, this.ref.current);\n  }\n  \n  render() {\n    return h('div', { ref: this.ref });\n  }\n}\n")),Object(o.b)("p",null,"Here is the finalized example:"),Object(o.b)(s.a,{children:"\nclass ReactComponent extends gComponent {\n  ref = gCreateRef(null);\n  \n  componentDidMount() {\n    ReactDOM.render(this.props.element, this.ref.current)\n  }\n  \n  render() {\n    return h('div', { ref: this.ref });\n  }\n}\nconst grid = new Grid({\n  columns: [\n    'Name',\n    'Email',\n    'Actions'\n  ],\n  data: Array(5).fill().map(x => [\n    faker.name.findName(),\n    faker.internet.email(),\n    h(ReactComponent, { element: <b>Boom!!</b> })\n  ])\n});\n",scope:{ReactDOM:i.a},mdxType:"LiveExample"}))}b.isMDXComponent=!0},180:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));t(184);var a=t(3),r=t(182),o=t(181),c=t(0),i=t.n(c),s=t(183),p=function(e){function n(){return e.apply(this,arguments)||this}return Object(a.a)(n,e),n.prototype.render=function(){return i.a.createElement(o.a,{children:this.props.children,transformCode:function(e){return"\nfunction () {\n  "+e+"\n \n  const wrapperRef = useRef(null);\n   \n  useEffect(() => {\n    if (wrapperRef && wrapperRef.current && wrapperRef.current.childNodes.length === 0) {\n      grid.render(wrapperRef.current);\n    }\n  });\n  \n  return (\n    <div ref={wrapperRef} />\n  );\n}\n"},live:!0,scope:Object.assign({Grid:r.b,html:r.e,h:r.d,gCreateRef:r.c,gComponent:r.a,CodeBlock:o.a,useEffect:c.useEffect,useRef:c.useRef,faker:s},this.props.scope)})},n}(c.Component)}}]);